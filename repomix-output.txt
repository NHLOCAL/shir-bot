This file is a merged representation of a subset of the codebase, containing files not matching ignore patterns, combined into a single document by Repomix.

================================================================
File Summary
================================================================

Purpose:
--------
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

File Format:
------------
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Multiple file entries, each consisting of:
  a. A separator line (================)
  b. The file path (File: path/to/file)
  c. Another separator line
  d. The full contents of the file
  e. A blank line

Usage Guidelines:
-----------------
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

Notes:
------
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching these patterns are excluded: _artists/, _site/, .jekyll-cache/, **/*.csv, assets/data/singers_list.txt
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded

Additional Info:
----------------

================================================================
Directory Structure
================================================================
_config.yml
_includes/footer.html
_includes/header.html
_includes/search_form.html
_layouts/artist.html
_layouts/default.html
_layouts/page.html
.gitignore
404.html
artists.html
assets/css/personal.css
assets/css/styles.css
assets/js/ads.js
assets/js/messages.js
assets/js/search.js
create_artists_markdown.py
Gemfile
index.html
old.html
register.html
run.bat
site/pay.md
site/thank.md

================================================================
Files
================================================================

================
File: _config.yml
================
baseurl: "/shir-bot"
url: "https://nhlocal.github.io"
language: "he"

title: Your awesome title
email: your-email@example.com
description: >- # this means to ignore newlines until "baseurl:
  Write an awesome description for your new site here. You can edit this
  line in _config.yml. It will appear in your document head meta (for
  Google search results) and in your feed.xml site description.
twitter_username: jekyllrb
github_username:  jekyll

# Build settings
theme: minima

collections:
  artists:
    output: true
    permalink: /artists/:name/
    

plugins:
  - jekyll-seo-tag
  - jekyll-sitemap
  - jekyll-redirect-from

seo:
  title: "שיר-בוט"
  description: "חיפוש חופשי והורדה בתוך מאגר של עשרות אלפי שירים..."
  url: "https://nhlocal.github.io/shir-bot"
  image: "/assets/images/logo.png"

================
File: _includes/footer.html
================
<div class="fixed-bottom">
  <p></p>
</div>

<script src="{{ site.baseurl }}/assets/js/ads.js"></script>

================
File: _includes/header.html
================
<div class="topnav">
  <header class="ripple-header">
    <a class="feedback-button" href="mailto:mesader.singelim@gmail.com" target="_blank" title="שלח משוב">
      <i class="fas fa-envelope"></i>
    </a>
    <a class="right-item" href="https://nhlocal.github.io/" title="לשאר התוכנות של היוצר">
      <img width="50" style="border-radius: 48%;" src="{{ site.baseurl }}/assets/images/NH.LOCAL.jpg" alt="הסמל של המחבר">
    </a>
    <center class="parent-element">
      <h3 id="nextObject">
        <img width="85" src="{{ site.baseurl }}/assets/images/logo.png" alt="סמל האתר"> <span class="site-title">שיר-בוט</span>
      </h3>
      <!-- קישור לדף רשימת האמנים -->
      <a class="artists-link" href="{{ site.baseurl }}/artists" title="רשימת אמנים">
        <i class="fas fa-users"></i>
      </a>
    </center>
  </header>
  <!-- תנאי להצגת טופס החיפוש -->
  {% if page.show_search_form != false %}
    {% include search_form.html %}
  {% endif %}
</div>

================
File: _includes/search_form.html
================
<form id="searchForm" class="search-form">
  <select id="searchBy" name="searchBy" class="search-select">
    <option value="all"><i class="fas fa-globe"></i> הכל</option>
    <option value="serial"><i class="fas fa-list-ol"></i> מספר סידורי</option>
    <option value="name"><i class="fas fa-music"></i> שם השיר</option>
    <option value="album"><i class="fas fa-album"></i> שם האלבום</option>
    <option value="singer"><i class="fas fa-microphone"></i> שם הזמר</option>
  </select>
  
  <div class="input-container">
    <input type="text" id="searchInput" name="searchInput" class="search-input awesomplete" placeholder="הזן מילות מפתח..." autofocus>
    <div id="textBubble" class="text-bubble">נסה לחפש שירים חדשים שיצאו לאחרונה!</div>
  </div>

  <button type="submit" class="search-button"><i class="fas fa-search"></i></button>
  <div class="filter-container">
    <button id="newsFilter" class="filter-button-light">הצג שירים חדשים</button>
    <button id="singleFilter">הצג את כל השירים</button>
  </div>
</form>

================
File: _layouts/artist.html
================
---
layout: default
---
<div id="loadingMessage" class="loading-message">
  <div class="progress-bar-container">
    <img src="{{ site.baseurl }}/assets/images/loading.gif" alt="טעינה" />
    <span id="progressText"></span>
    <div class="progress-bar">
      <div id="progress" class="progress"></div>
    </div>
  </div>
</div>

<div id="modalOverlay" class="modal-overlay">
  <div class="modal-content">
	<span id="modalMessage"></span><br>
	<button id="modalOkButton" style="font-family: tahoma">אישור</button>
  </div>
</div>

<div id="resultsTable" class="custom-table">
  <table>
    <thead>
      <tr>
        <th>מספר סידורי</th>
        <th>שם השיר</th>
        <th>שם האלבום</th>
        <th>שם הזמר</th>		  
      </tr>
    </thead>
    <tbody class="songs-list">
      {% for song in page.songs %}
      <tr onclick="downloadSong('{{ song.number }}')">
        <td><a>{{ song.number }}</a></td>
        <td>{{ song.name }}</td>
        <td>{{ song.album }}</td>
        <td>{{ song.artist }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  
  <!-- Add this button in your HTML where you want it to appear -->
  <button id="loadMoreButton">טען עוד</button>
</div>

<script src="{{ site.baseurl }}/assets/js/search.js"></script>

================
File: _layouts/default.html
================
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="author" content="NHLOCAL">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{ page.description }}">
  <meta name="keywords" content="{{ page.keywords }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <title>{{ page.title }}</title>
  <link rel="canonical" href="{{ page.canonical_url }}" />
  <link rel="icon" type="image/x-icon" href="{{ site.baseurl }}/assets/images/favicon.ico">
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/styles.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/personal.css">
  <!-- Google Fonts - Arimo -->
  <link href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TGD4VQW4X8"></script>
  <script src="https://nhlocal.github.io/general-settings.js"></script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "https://nhlocal.github.io/shir-bot/",
    "name": "שיר-בוט",
    "description": "חיפוש חופשי והורדה בתוך מאגר של עשרות אלפי שירים..."
  }
  </script>
  {% seo %}

  <!-- הגדרת משתנה baseurl עבור JavaScript -->
  <script>
    var baseurl = "{{ site.baseurl }}";
  </script>  

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "רשימת אמנים",
    "description": "רשימה של כל האמנים הזמינים באתר שיר-בוט",
    "numberOfItems": {{ site.artists | size }},
    "itemListElement": [
      {% for artist in site.artists %}
      {
        "@type": "ListItem",
        "position": {{ forloop.index }},
        "url": "https://nhlocal.github.io{{ site.baseurl }}{{ artist.url }}"
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
  }
  </script>

</head>
<body dir="rtl" style="background-color:#ECEFF1;">
  {% include header.html %}
  <div class="content">
    {{ content }}
  </div>
  {% include footer.html %}
  <script src="{{ site.baseurl }}/assets/js/messages.js"></script>
  <script src="{{ site.baseurl }}/assets/js/ads.js"></script>
</body>
</html>

================
File: _layouts/page.html
================
<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- קישורים לקבצי CSS -->
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/styles.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/personal.css">
  <link rel="icon" type="image/x-icon" href="{{ site.baseurl }}/assets/images/favicon.ico">
  
  <title>{{ page.title | escape }}</title>
  
  <style>
    /* Body and container styles */
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    /* Message container styles */
    .message-container {
      padding: 20px;
      border-radius: 10px;
    }

    .message {
      font-size: 20px;
    }

    .email-link {
      margin: 0;
      padding: 0;
      border: none;
      background: none;
      color: inherit;
      text-decoration: underline;
    }

    .email-link:hover,
    .email-link:active {
      color: #73FBFD;
      background-color: #C0C0C0;
    }

    /* Button styles */
    .button-container {
      margin-top: 20px;
    }

	/* סגנונות עבור דף התודה */

	h3 {
	  font-size: 52px; /* התאם את הגודל לפי הצורך */
	  color: transparent;
	  text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.5);
	  background-image: linear-gradient(45deg, #FF0000, #FFA500, #FFFF00, #008000);
	  background-clip: text;
	  -webkit-background-clip: text;
	  text-fill-color: transparent;
	}

	.get-container {
	  display: flex;
	  justify-content: space-around;
	  width: 100%;
	  padding: 20px;
	  background-color: #FFF49C;
	}

	.get-square {
	  width: 250px;
	  height: 200px;
	  background-color: #FFFEDB;
	  border-radius: 10px;
	  margin: 0 10px;
	  display: flex;
	  flex-direction: column;
	  justify-content: center;
	  align-items: center;
	  text-align: center;
	}

	.get-square img {
	  width: 100px;
	}

	.get-title {
	  font-size: 16px;
	  font-weight: bold;
	  margin-bottom: 10px;
	}

	.get-description {
	  font-size: 14px;
	}

  </style>
</head>
<body dir="rtl" style="background-color:#FFFEDB;">
  <div class="container">
    {{ content }}
  </div>
</body>
</html>

================
File: .gitignore
================
_site
.sass-cache
.jekyll-cache
.jekyll-metadata
vendor

================
File: 404.html
================
---
layout: default
title: "דף לא נמצא"
permalink: /404.html
show_search_form: false
---

<div class="error-page" style="text-align: center; padding: 50px;">
  <h1 style="font-size: 3em; margin-bottom: 20px;">404</h1>
  <h2 style="font-size: 2em; margin-bottom: 20px;">הדף לא נמצא</h2>
  <p style="font-size: 1.2em; margin-bottom: 30px;">הדף שאתה מחפש אינו זמין או לא קיים 🙁</p>
  <a href="{{ site.baseurl }}/" class="btn btn-primary" style="padding: 10px 20px; font-size: 1em; text-decoration: none;">חזור לדף הבית</a>
</div>

================
File: artists.html
================
---
layout: default
title: "רשימת אמנים"
description: "רשימה של כל האמנים הזמינים באתר שיר-בוט"
keywords: "אמנים, מוזיקה, רשימה"
permalink: /artists
---

<div class="artists-list">
  <ul>
    {% for artist in site.artists %}
      <li><a href="{{ site.baseurl }}{{ artist.url }}">{{ artist.title }}</a></li>
    {% endfor %}
  </ul>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var searchForm = document.getElementById('searchForm');
    searchForm.addEventListener('submit', function(event) {
        event.preventDefault(); // מניעת שליחת הטופס ברירת מחדל

        var searchInput = document.getElementById('searchInput').value.trim();

        if (searchInput) {
            // יצירת URL עם פרמטרי חיפוש
            var redirectUrl = baseurl + "/?search=" + encodeURIComponent(searchInput);
            window.location.href = redirectUrl;
        }
    });
});
</script>

================
File: assets/css/personal.css
================
/* Google Fonts - Arimo */
body {
  font-family: var(--font-base);
}

.text-bubble {
  display: none;
  background-color: #F0F2F5;
  color: #212121; /* טקסט ראשי */
  padding: 15px;
  border-radius: 14px;
  font-size: 16px;
  text-align: center;
  position: absolute;
  z-index: 9999;
  top: 140%; /* Position the bubble below the input */
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 0 0 3px 3px rgba(126, 87, 194, 0.5); /* Shadow with primary color */
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.text-bubble.active {
  display: block;
  opacity: 1;
  transform: translateY(-20px) translateX(-50%);
}

.text-bubble:before {
  content: "";
  position: absolute;
  top: -14px; /* Adjust to position above the bubble */
  left: 50%;
  transform: translateX(-50%);
  border-style: solid;
  border-width: 0 10px 15px;
  border-color: transparent transparent #F0F2F5 transparent; /* Adjust the color to match the bubble */
  z-index: -1;
}

.input-container {
  position: relative;
  display: inline-block;
}


form {
  margin-bottom: 20px;
  text-align: center;
}

table {
  width: 100%;
  overflow-y: scroll;
}


td {
  border-bottom: none;
  text-align: right;
  padding: 8px;
}

th {
  border-bottom: 1px solid #ddd;
  text-align: right;
  padding: 8px;
}


/* Content on the left side */
.right-item {
right: 20px;
float: right;
top: 5px;
position: absolute;
background: none;
border: none;
}


.feedback-button {
  float: left;
  left: 20px;
  top: 5px;
  position: absolute;
  width: 50px;
  height: 50px;
  font-size: 40px;
  background: none;
  border: none;
}



.fixed-bottom {
  position: fixed;
  bottom: 0;
  width: 100%;
  background-color: #ECEFF1; /* רקע משני */
  padding-top: 15px;
  text-align: center;
  z-index: 9999;
}

.fixed-bottom p {
  margin-bottom: 15px;
  font-size: 14px;
}

/* קישורים לפרסומות */
.fixed-bottom a {
  padding: 5px 10px;
  font-weight: bold;
}

.search-input,
.search-select {
  font-family: var(--font-base); /* Arimo font */
  padding-left: 10px;
  padding-right: 10px;
  height: 58px;
  border: 1px solid var(--primary-color); /* Primary color border */
  box-shadow: 0 5px 15px rgba(126, 87, 194, 0.5); /* Shadow with primary color */
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.search-select {
  font-size: 16px;
  border-radius: 5px 10px 10px 5px;
  height: 60px;
  width: 120px;
}

.search-input {
  caret-color: var(--primary-color); /* Primary color caret */
  font-size: 20px;
  height: 58.4px;
  width: 220px;
  border-radius: 5px;
}

.search-input:focus,
.search-select:focus {
  outline: none;
  background: #f5f5f5; /* Light gray background on focus */
}

.search-select option {
  background-color: white;
}

.search-button {
  font-family: var(--font-base); /* Arimo font */
  width: 100px;
  height: 60px;
  font-size: 20px;
  border-radius: 10px;
  cursor: pointer;
  background-color: var(--primary-color); /* Primary color */
  color: var(--white);
  border: none;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
  box-shadow: 0 5px 15px rgba(126, 87, 194, 0.5); /* Shadow with primary color */
  transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
}

.search-input:hover,
.search-select:hover,
.search-button:hover {
  box-shadow: 0 10px 20px rgba(126, 87, 194, 0.5); /* Adjusted shadow on hover */
}

.search-button:hover {
  background-color: var(--primary-hover); /* Darker primary color on hover */
}

.search-button:active {
  background-color: var(--primary-color); /* Primary color on active */
}

#resultsTable {
  border-spacing: 0;
  position: fixed;
  margin-left: 3%;
  margin-right: 3%;
  margin-top: 30vh;
  margin-bottom: 5vh;
  width: 92%;
  height: 55%;
  overflow: auto;
  padding: 10px;
}

.topnav {
  text-align: center;
  height: 60px;
  width: 100%;
  background-color: var(--primary-color); /* Primary color */
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  display: inline-block;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  padding: 10px;
  z-index: 9999;
}

.search-form {
  position: absolute;
  left: 0px;
  right: 0px;
  padding-top: 40px;
  width: 100%;
  z-index: 9999;
  border-radius: 5px;
}


/* Navigation menu links */
.topnav h3 {
  font-size: 24px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin: 0;
  padding: 0 5px 0px 15px;
  display: flex;
  align-items: center;
  height: 100%;
  transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
  background-color: #fff;
  color: var(--primary-color); /* Primary color */
  border-radius: 5px;
}


/* Default link style for top bar */
.topnav a {
  color: white;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  border-radius: 5px;
  padding: 10px 20px;
}

/* Hover and active link style for top bar */
.topnav a:hover,
.topnav a:active,
.topnav h3.current {
  color: var(--highlight-color); /* Highlight color on hover/active */
  background-color: #C0C0C0;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(126, 87, 194, 0.5); /* Shadow with primary color */
  transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
}


.parent-element {
  height: 60px;
  text-align: center;
  align-items: center;
  display: flex;
  justify-content: center;
  cursor: pointer;
}

a {
  color: var(--primary-color); /* Primary color for links */
  background-color: white;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  border-radius: 5px;
  padding: 10px 20px;
  cursor: pointer;
}

a:hover,
a:active,
h3.current {
  color: var(--highlight-color); /* Highlight color on hover/active */
  background-color: #C0C0C0;
}

::selection {
  background-color: var(--highlight-color); /* Highlight color */
  color: white;
}


#resultsTable table {
  width: 100%;
  table-layout: auto;
  border-spacing: 0;
}

#resultsTable th:nth-child(1),
#resultsTable td:nth-child(1) {
  width: 15%; /* Adjust the width for column 1 */
}

#resultsTable th:nth-child(2),
#resultsTable td:nth-child(2) {
  width: 45%; /* Adjust the width for column 2 */
}

#resultsTable th:nth-child(3),
#resultsTable td:nth-child(3),
#resultsTable th:nth-child(4),
#resultsTable td:nth-child(4) {
  width: 20%; /* Adjust the width for columns 3 and 4 */
}

#resultsTable th,
#resultsTable td {
  word-wrap: break-word;
  max-width: 300px;
}



h3 {
  margin-top: 10px;
  margin-bottom: 40px;
  font-size: 24px;
  color: #212121; /* טקסט ראשי */
}

p {
  margin-bottom: 30px;
  font-size: 15px;
}


/* עיצוב עבור מודעות בחזית המסך ומסך עזרה */
.instructions-container {
  max-width: 500px;
  min-width: 35%;
  text-align: center;
  margin: auto;
  padding: 18px;
  border-radius: 8px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
  border: 3px solid var(--primary-color); /* Primary color border */
  background-color: #fff;
}

.instructions-container h3 {
  margin-top: 10px;
  margin-bottom: 10px;
  font-size: 30px;
  color: var(--primary-color); /* Primary color */
  padding: 8px;
  border-bottom: 1px solid #ddd;
  font-weight: 700;
}

.instructions-container p {
  margin-bottom: 15px;
  font-size: 20px;
  padding: 0 20px;
}

.instructions-container .disclaimer {
  color: #607D8B; /* Secondary text color */
  padding: 0 20px 0px;
}

.small-ad-container {
  display: flex;
  width: 95%;
}

.small-ad-left,
.small-ad-right {
  background-color: transparent;
  border: none;
  margin: 20px;
  width: 100%;
  max-width: 25%;
}

.small-ad-bottom,
.small-ad-top {
  width: 100%; /* Adjust width as needed */
  height: 49%; /* Adjust height as needed */
  border-radius: 8px;
  flex: 1; /* Distribute space equally */
  text-align: center;
  padding: 0;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  border: 2px solid #ddd;
}

.small-ad-top {
  margin-top: 0;
  margin-bottom: 10px;
  top: 0px;
}

.small-ad-bottom {
  margin-top: 10px;
  margin-bottom: 0;
  bottom: 0px;
}

.ad-text {
    font-size: 15px;
    margin-bottom: 5px;
}

.title-song-list {
  font-weight: bold;
  font-size: 13px;
  margin-bottom: 5px; /* Add bottom space */
}

.song-list {
    font-size: 12px;
    margin-top: 0;
    margin-bottom: 0;
    list-style: none;
}


@media (max-width: 768px) {
	
  .instructions-container {
    max-width: 90%;  
  }
   
  .small-ad-container {
    flex-direction: column; /* Change layout to column */
  }

  .small-ad-left,
  .small-ad-right {
    max-width: 100%; /* Occupy full width */
    margin: 0;
  }

  .small-ad-top,
  .small-ad-bottom {
    height: auto; /* Allow height to adjust based on content */
    margin: 10px; /* Add margin between ads */
	margin-right: 0;
	margin-left: 0;
	padding: 5px 0 5px 0;
  }
}

.loading-container {
  display: flex;
  padding-top: 20px;
  align-items: baseline;
  justify-content: center;
}

.loading-image {
  width: 20px;
  padding-left: 10px;
}

.loading-text {
  font-size: 20px;
  color: #212121; /* טקסט ראשי */
  font-weight: 600;
}

/* מודעת שדרוג */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
}

.modal {
    max-width: 400px;
    padding: 40px;
    text-align: center;
    background-color: #F7F0FF;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    z-index: 10001;
}

.modal h2 {
  font-size: 24px;
  color: #212121; /* טקסט ראשי */
  margin-bottom: 20px;
  font-weight: 600;
}

.modal p {
  font-size: 16px;
  color: #607D8B; /* Secondary text color */
  line-height: 1.6;
  margin-bottom: 5px;
}


.modal a {
  display: inline-block;
  margin-top: 20px;
  padding: 10px 20px;
  background-color: var(--primary-color); /* Primary color */
  color: var(--white);
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 0.3s ease;
}

.modal a:hover {
  background-color: var(--primary-hover); /* Darker primary color on hover */
}


.efectButton {
  display: inline-block;
  margin-top: 20px;
  padding: 10px 20px;
  color: #fff;
  text-decoration: none;
  border-radius: 4px;
  background: linear-gradient(90deg, var(--primary-color) 25%, #ADB1FF 50%, var(--primary-color) 75%); /* Adjusted gradient colors */
  background-size: 200% 100%;
  animation: shimmer 3s infinite;
  transition: background-position 0.5s ease;
}

.efectButton:hover {
  background: linear-gradient(90deg, var(--primary-hover) 25%, var(--primary-color) 50%, var(--primary-hover) 75%); /* Adjusted gradient colors on hover */

}

/* אפקטים של זוהר עבור כפתור הקישור */
@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: 200px 0;
  }
}

@media screen and (max-width: 900px) {
.topnav {
  height: auto;
  padding: 10px 0;
  position: static;
  overflow: hidden;
}

.topnav img {
position: static;
margin: 0 auto;
}

img.button-image {
  max-width: 100%;
  height: auto;
  display: block;
}

.parent-element {
  max-width: 100%;
  width: 100%;
}


.topnav h3 {
  left: auto;
  right: auto;
  float: center;
  font-size: 20px;
}

.topnav a {
  display: block;
  float: none;
  text-align: center;
  padding: 10px 20px;
}

.topnav a:hover,
.topnav a:active,
.topnav h3.current {
color: var(--primary-color); /* Primary color */
}

/* Content on the left side */
.topnav {
left: auto;
right: auto;
float: center;
position: static;
}

.right-item {
  right: 5px;
  float: right;
}

.feedback-button {
  left: 0px;
  float: left;
}

.search-input {
  width: 150px;
  font-size: 16px;
}

.search-select {
  width: 80px;
  font-size: 14px;

}

.search-button {
  width: 60px;
  font-size: 16px;
}

.search-button,
.search-select,
.search-input {
  height: 50px; 
}


#resultsTable {
  margin-top: 15vh;
  margin-bottom: 5vh;
  width: 90%;
  height: 60%;
  padding: 5px;
}

#resultsTable table {
  table-layout: fixed;
  width: 100%;
}

th {
  font-size: 12px;
  text-align: center;
}

td {
  font-size: 12px;
}

  #resultsTable th:nth-child(1),
  #resultsTable td:nth-child(1) {
    width: 20%; /* Adjust the width for column 1 */
  }
  
  #resultsTable th:nth-child(3),
  #resultsTable td:nth-child(3),
  #resultsTable th:nth-child(4),
  #resultsTable td:nth-child(4) {
    width: 20%; /* Adjust the width for columns 3 and 4 */
  }

#resultsTable th,
#resultsTable td {
  word-wrap: break-word;
  max-width: 300px;
}

a {
  padding: 7px 10px;
}

.fixed-bottom {
  position: fixed;
  padding-top: 5px;
  text-align: center;
  height: 50px;
  z-index: 9999;
}

.fixed-bottom p {
  font-size: 12px;
}

#music-in-drive {
  margin-top: 5px;
  padding: 4px;
}

}

/* עיצוב כפתור שיתוף שיר */
.share-button {
  font-size: 14px;
  background-color: var(--primary-color); /* Primary color */
  color: #fff;
  margin: 12px;
  border: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  padding: 6px 10px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.share-button:hover {
  background-color: var(--primary-hover); /* Darker primary color on hover */
}

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  justify-content: center;
  align-items: center;
  z-index: 10000;  
  display: none;
}

.modal-content {
  max-width: 400px;
  padding: 20px;
  text-align: center;
  background-color: #f1f1f1;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  z-index: 10001;
}

.modal-content h2 {
  font-size: 18px;
  color: #212121; /* טקסט ראשי */
  margin-bottom: 15px;
  font-weight: 600;
}

.modal-content p {
  font-size: 14px;
  color: #607D8B; /* Secondary text color */
  line-height: 1.6;
  margin-bottom: 20px;
}

.modal-content .share-link {
  display: block;
  margin: 0 auto;
  padding: 6px 15px;
  background-color: var(--primary-color); /* Primary color */
  color: #fff;
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 0.3s ease;
}

.modal-content .share-link:hover {
  background-color: var(--primary-hover); /* Darker primary color on hover */
}

.copied-message {
  position: fixed;
  top: 10px;
  right: 10px;
  background-color: var(--primary-color); /* Primary color */
  color: #fff;
  padding: 5px 10px;
  border-radius: 5px;
  z-index: 9999;
}

/* עיצוב כפתור "הצג סינגלים בלבד" */
.filter-container {
  text-align: center;
  margin-top: 13px;
}

.filter-container button {
  font-family: var(--font-base); /* Arimo font */
  font-size: 14px;
  background-color: #F3F3F3;
  color: var(--primary-color); /* Primary color */
  border: none;
  border-radius: 20px;
  padding: 6px 16px;
  cursor: pointer;
  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  border: 1px solid var(--primary-color); /* Primary color border */
}

.filter-container button:hover {
  background-color: #EDEDED;
  color: var(--primary-hover); /* Darker primary color on hover */
}

#newsFilter {
  background: linear-gradient(135deg, var(--primary-color), var(--highlight-color)); /* Primary to highlight gradient */
  color: #fff;
  transition: background 0.3s ease-in-out, color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  border: 1px solid var(--primary-color); /* Primary color border */
  display: none;
}

#newsFilter:hover {
  background: linear-gradient(135deg, var(--primary-hover), #00838F); /* Darker primary to darker highlight gradient on hover */
  color: #FFD700; /* Gold text color on hover for contrast */
  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.3);
  border: 1px solid #00838F; /* Darker highlight border on hover */
}

/* Styles for the "OK" button */
#modalOkButton {
  display: inline-block;
  margin-top: 	10px;
  padding: 5px 10px;
  background-color: var(--primary-color); /* Primary color */
  color: #fff;
  text-decoration: none;
  border-radius: 4px;
  cursor: pointer; 
  transition: background-color 0.3s ease;
}

#modalOkButton:hover {
  background-color: var(--primary-hover); /* Darker primary color on hover */
}

/* עיצוב הודעת עזרה */

.help-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  display: none;
}

.prev-step,
.next-step {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	font-size: 18px;
	color: var(--primary-color); /* Primary color */
	cursor: pointer;
}

.prev-step {
	left: 10px;
}

.next-step {
	right: 10px;
}

/* Close button */
.close-button {
	position: absolute;
	top: 10px;
	right: 10px;
	font-size: 24px;
	cursor: pointer;
	color: #666;
}

.help-modal {
	padding: 40px;
	text-align: center;
}

.help-modal img {
	max-width: 100%;
	height: auto;
	border-radius: 8px; /* Add rounded edges */
	margin-top: 10px; /* Adjust spacing between text and image */
}

.help-modal h2 {
  font-size: 24px;
  color: #212121; /* טקסט ראשי */
  margin-bottom: 20px;
  font-weight: 600;
}

.help-modal p {
  font-size: 16px;
  color: #607D8B; /* Secondary text color */
  line-height: 1.6;
  margin-bottom: 5px;
}

.help-modal-container {
	width: 500px;
	height: 400px; /* Set your desired height here */
	background-color: #f1f1f1;
	border-radius: 8px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	z-index: 10001;
	position: relative;
	overflow-y: none;
}

.helpButton {
  font-family: var(--font-base);  /* Arimo font */
  font-weight: bold;
  display: inline-block;
  margin-top: 10px;
  margin-bottom: 13px;
  padding: 8px 20px;
  background-color: #FFFFFF; /* White background */
  color: var(--primary-color);       /* Primary color text */
  border-radius:24px;
  border-style: solid;
  border-color: var(--primary-color);  /* Primary color border */
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.helpButton:hover {
  color: white;
  background-color: var(--primary-hover);  /* Darker primary color on hover */
}

/* הודעת "מוריד כעת" */
.loading-message {
  display: none;
  position: fixed;
  bottom: 60px;
  left: 50%;
  transform: translateX(-50%);
  padding: 10px 15px;
  border-radius: 10px;
  font-weight: bold;
  color: #212121;  /* טקסט ראשי */
  background-color: #F3F3F3;
  font-size: 16px;
  box-shadow: 2px 5px 15px rgba(126, 87, 194, 0.4); /* Shadow with primary color */
  z-index: 9999;
  align-items: center;
}

.loading-message img {
  width: 16px;
  vertical-align: middle;
  margin-left: 6px;
}

.loading-message.show {
  display: flex;
}

.progress-bar-container {
  text-align: center;
  display: flex; /* Add this line */
  align-items: center; /* Add this line */
}

.progress-bar {
  width: 100px;
  background-color: #ccc;
  height: 10px;
  margin-top: 4px;
  margin-right: 12px;
  border-radius: 5px;
}

.progress {
  width: 0;
  height: 100%;
  border-radius: 5px;
  background: linear-gradient(to right, var(--highlight-color), var(--primary-color)); /* Highlight to primary gradient fill */
  transition: width 0.3s ease-in-out;
}

/* Style for the "Load more" button */
#loadMoreButton {
  background-color: var(--primary-hover);  /* Darker primary color */
  color: #fff; /* Text color */
  font-size: 16px; /* Font size */
  border: none; /* Remove borders */
  border-radius: 5px; /* Rounded corners */
  padding: 10px 20px; /* Padding */
  cursor: pointer; /* Change cursor to pointer on hover */
  transition: background-color 0.3s ease; /* Smooth background color transition */
  margin: 20px auto; /* Center the button horizontally */
  display: none; /* Make it a block element for centering */
}

/* Hover effect for the button */
#loadMoreButton:hover {
  background-color: var(--primary-color); /* Primary color on hover */
}

/* Style for album and singer buttons */
.album-button,
.singer-button {
  background: none;
  border: none;
  padding: 0;
  font-size: inherit;
  font-family: inherit;
  color: inherit;
  cursor: pointer;
  padding: 5px;
  transition: color 0.1s; /* Smooth color transition on hover */
}

/* Change text color on hover */
.album-button:hover,
.singer-button:hover {
  color: var(--primary-hover);  /* Darker primary color on hover */
  font-weight: 500;
  background: white;
  padding: 5px;
  border-radius: 5px;
}

/* אפקט אדווה לסרגל הכותרת */
.ripple-header::before {
    content: "";
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: rgba(255, 255, 255, 0.2);
    animation: ripple 4s linear;
    animation-fill-mode: forwards;
    border-radius: inherit; /* Ensure the ripple covers the entire header */
    z-index: -1; /* Place the ripple behind the header content */
}

header.clicked::after {
  animation: ripple 4s linear;
}

@keyframes ripple {
  0% {
    width: 0;
    opacity: 0.5;
  }
  100% {
    width: 100%;
    opacity: 0;
  }
}

/* עיצוב עבור כפתורי הקודם והבא */

#prevSection,
#nextSection {
    position: fixed;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #EDEDED; /* Light gray background */
    color: #555; /* Dark gray text color */
    font-size: 18px;
    cursor: pointer;
    z-index: 1000;
    transition: background 0.3s, color 0.3s; /* Smooth transition on hover */
    border: 2px solid var(--primary-color);  /* Primary color border */
    bottom: 50px;
}

#prevSection {
  left: 50%; /* Set the button to be centered on the right */
  margin-left: 45px; /* Adjust the margin to prevent overlapping */
}

#nextSection {
  right: 50%; /* Set the button to be centered on the left */
  margin-right: 45px; /* Adjust the margin to prevent overlapping */
}

#prevSection:hover,
#nextSection:hover {
    background: var(--primary-hover);  /* Darker primary color background on hover */
    color: white; /* White text color on hover */
}

#prevSection:active,
#nextSection:active {
    background: var(--primary-color); /* Primary color background on click */
    color: white; /* White text color on click */
}

@media screen and (max-width: 600px) {
    #prevSection,
    #nextSection {
        width: 30px;
        height: 30px;
        font-size: 14px;
		bottom: 50px;
    }
}

/* אפקטים עבור לחיצה ומעבר על שורה בטבלה */
.custom-table tbody.songs-list tr:hover {
  background-color: #e0e0e0;  /* Slightly darker gray background on hover */
}

.custom-table tbody.songs-list tr:active {
  background-color: #e0e0e0be;  /* Slightly darker gray on active */
}

.custom-table tbody.songs-list tr, .custom-table tbody.songs-list tr a, .custom-table tbody.songs-list tr button {
  cursor: pointer;
}

.custom-table tbody.songs-list td, .custom-table tbody.songs-list th {
  border-radius: 0px;
}

.custom-table tbody.songs-list tr td {
  border-collapse: collapse;
}

.custom-table tbody.songs-list td, .custom-table tbody.songs-list th {
  padding: 10px; /* Adjust the padding as needed */
}

@keyframes colorTransition {
  0% { color: var(--primary-color); }  /* Primary color */
  50% { color: var(--highlight-color); }  /* Highlight color */
  100% { color: #AED581; } /* Hover/interaction color */
}

/* סגנון לדף 404 */
.error-page {
  background-color: #ECEFF1;  /* Lighter primary background */
  color: #212121;  /* טקסט ראשי */
  min-height: 80vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.error-page h1 {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.error-page h2 {
  font-size: 2.5rem;
  margin-bottom: 1.5rem;
}

.error-page p {
  font-size: 1.5rem;
  margin-bottom: 2rem;
}

.error-page .btn {
  background-color: var(--primary-color);  /* Primary color */
  color: white;
  border: none;
  border-radius: 5px;
}

.error-page .btn:hover {
  background-color: var(--primary-hover);  /* Darker primary color on hover */
}

/* סגנון לדף רשימת האמנים */
.artists-list {
  padding: 240px 20px 60px 20px;
  background-color: #ECEFF1;  /* Lighter primary background */
  max-width: 1200px;
  margin: 0 auto;
}

.artists-list h2 {
  text-align: center;
  font-size: 2em;
  margin-bottom: 20px;
  color: #212121;  /* טקסט ראשי */
}

.artists-list ul {
  list-style: none;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.artists-list li {
  width: 200px;
  padding: 10px;
}

.artists-list a {
  padding: 20px;
  text-decoration: none;
  color: var(--primary-color);       /* Primary color */
  font-size: 1.2em;
  border-radius: 5px;
  display: block;
  text-align: center;
  border: 1px solid var(--primary-color);  /* Primary color border */
  border-radius: 8px;
  background-color: #f5f5f5;  /* Light gray background */
  transition: background-color 0.3s, color 0.3s, transform 0.3s;
}

.artists-list a:hover {
  background-color: var(--primary-color);  /* Primary color on hover */
  color: #fff;
  transform: scale(1.05);
}

@media (max-width: 768px) {
	
  .artists-list {
	padding-top: 140px;
    }	
}

/* סגנונות עבור קישור רשימת האמנים בסרגל העליון */
.artists-link {
  font-size: 20px; /* גודל הסמל */
  color: white; /* צבע הסמל */
  background-color: var(--primary-color); /* Primary color */
  border: none;
  padding: 8px;
  border-radius: 50%; /* עיגול הכפתור */
  margin-right: 10px; /* רווח בין הכפתורים */
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.artists-link:hover {
  background-color: var(--primary-hover); /* Darker primary color on hover */
  transform: scale(1.1); /* הגדלת הכפתור בעת ריחוף */
}

/* התאמות לנייד */
@media screen and (max-width: 900px) {
  .artists-link {
    font-size: 18px;
    padding: 6px;
    margin-right: 8px;
  }
}

@media screen and (max-width: 600px) {
  .artists-link {
    font-size: 16px;
    padding: 5px;
    margin-right: 6px;
  }
  
  /* חבוי את הטקסט "שיר-בוט" במסכים קטנים */
  .site-title {
    display: none;
  }

  /* התאמת סגנון h3#nextObject */
  #nextObject {
    display: flex;
    align-items: center;
    justify-content: center;
    max-width: 75px;
  }

  .topnav img {
    align-self: center;
    }
  
  /* התאמת רווחים ועיצוב נוסף אם נדרש */
  .parent-element {
    gap: 5px; /* רווח קטן יותר בין הפריטים */
  }
}

/* Heading styles */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-base);
  font-weight: 700;
}

h1 { font-size: 2.5em; }
h2 { font-size: 2em; }
h3 { font-size: 1.75em; }
h4 { font-size: 1.5em; }
h5 { font-size: 1.25em; }
h6 { font-size: 1em; }

.topnav h3 {
  font-weight: 600;
}

.instructions-container h3 {
  font-weight: 700;
}

.modal h2,
.help-modal h2 {
  font-weight: 600;
}

.get-title {
  font-weight: 600;
}

/* Combine caret rules into one block */
.search-input::-webkit-caret,
.search-input::-moz-caret,
.search-input::caret {
  border-width: 2px;
  border-style: solid;
  border-color: var(--primary-color);  /* Primary color */
}

================
File: assets/css/styles.css
================
:root {
  --primary-color: #7E57C2;
  --primary-hover: #5C3899;
  --highlight-color: #00BCD4;
  --secondary-color: #C0C0C0;
  --white: #fff;
  --font-base: 'Arimo', sans-serif;
}

/* Moved universal reset to top */
* {
  margin: 0;
  padding: 0;
}

/* Updated transition for button hover effect */
.button-image:hover {
  opacity: 0.95;
  transform: scale(0.98);
  transition: transform 0.3s ease, opacity 0.3s ease;
  cursor: pointer;
}

main {
  margin-top: 30px;
}

/* Updated button style using CSS variables */
a:link.butt, a:visited.butt {
  padding: 10px;
  text-align: center;
  border-radius: 5px;
  text-decoration: none;
  display: inline-block;
  background-color: var(--white);
  color: black;
  font-weight: bold;
}

a:hover.butt, a:active.butt {
  color: var(--highlight-color);
  background-color: var(--secondary-color);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Centered red button style */
a:link.center_butt, a:visited.center_butt {
  border-radius: 10px;
  background-color: #f44336;
  color: var(--white);
  padding: 15px 25px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
}

a:hover.center_butt, a:active.center_butt {
  background-color: red;
}

body {
  font-family: var(--font-base);
  max-width: 100%;
  overflow-x: hidden;
}

/* הגדרת הודעה קופצת */
.alert {
  border-radius: 10px;
  background-color: var(--primary-color);
  width: 70%;
  color: var(--white);
  padding: 25px;
  text-align: center;
  text-decoration: none;
  margin: auto;
}

.closebtn {
  margin-left: 15px;
  color: white;
  font-weight: bold;
  float: right;
  font-size: 22px;
  line-height: 20px;
  cursor: pointer;
  transition: 0.3s;
}

.closebtn:hover {
  color: black;
}

/* הגדרת עיצוב פס גלילה */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-thumb {
  background-color: var(--primary-color);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--primary-hover);
}

/* הגדרת הקו המהבהב */
.search-input::-webkit-caret,
.search-input::-moz-caret,
.search-input::caret {
  border-width: 2px;
  border-style: solid;
  border-color: var(--primary-color);
}

================
File: assets/js/ads.js
================
// מודעת שדרוגים ועדכונים
/*
document.addEventListener("DOMContentLoaded", function() {
  // Check if the message has been shown during the current visit
  if (!localStorage.getItem("messageShown4")) {
    // Display the modal overlay
    var overlay = document.createElement("div");
    overlay.classList.add("overlay");

    var modal = document.createElement("div");
    modal.classList.add("modal");

    // Ad content
    modal.innerHTML = `
      <h2>ההגרלה הגדולה - רשימת הזוכים</h2>
      <p><b>פרס ראשון:</b></p><p>הזוכה הוא - si*******4@gmail.com</p>
      <p><b>פרס שני:</b></p><p>הזוכה הוא - e******9@gmail.com</p>
      <p><b>פרס שלישי:</b></p><p>הזוכה הוא - m**********2@gmail.com</p>
      <br><p>הודעה נמסרה לזוכים במייל</p>
      <a style="" <a href="#" id="searchButton">אישור</a>
      <br><br><a href="https://nhlocal.github.io/shir-bot/old" id="searchButton" style="margin: 0; padding: 0; border: none; background: none; color: inherit; text-decoration: underline;">לכניסה לאתר הישן</a>
    `;

    overlay.appendChild(modal);
    document.body.appendChild(overlay);

    // Close the modal overlay and move to the search input when clicking "אישור"
    var searchButton = document.getElementById("searchButton");
    searchButton.addEventListener("click", function(event) {
      event.preventDefault();
      overlay.remove();
      var searchInput = document.querySelector("#searchInput");
      if (searchInput) {
        searchInput.focus();
      }

      // Set local storage to indicate that the message has been shown during the current visit
      localStorage.setItem("messageShown4", "true");

      // Set a cookie with an expiration date of 30 days
      var expirationDate = new Date();
      expirationDate.setDate(expirationDate.getDate() + 30);
      document.cookie = "messageShown4=true; expires=" + expirationDate.toUTCString() + "; path=/";
    });

    // Close the modal overlay when clicking outside the modal content
    overlay.addEventListener("click", function(event) {
      if (event.target === overlay) {
        overlay.remove();
      }
    });
  }
});
*/




// פרסומת מתחלפת לכותרת התחתונה

// Step 1: Define an array of possible content for the footer.
const footerContent = [
  "קבל כעת גישה ל-500 ג'יגה של תוכן מוזיקלי <b>לשנה מלאה</b> <a id='music-in-drive' href='https://docs.google.com/forms/d/e/1FAIpQLScfzba0porXVkKOPQR2OhY2kevGLFoPvnAkjC-Cs6KLm5idLg/viewform?usp=pp_url&entry.1611797152=https://nhlocal.github.io/shir-bot' target='_blank' onclick='conversion_music_drive()'>הרשם כאן!</a>",

  "<b>ביט פלוס-הבית של המוזיקאים!</b> אנחנו מציעים מגוון רחב של כלי נגינה | מקצבים | הגברה | מדריכים למוזיקה <a id='beatplus' href='https://beatplus.co.il/?utm_source=nhlocal.github.io/shir-bot/' target='_blank' onclick='beatplus_ad()'>עברו לאתר</a>",
];

// Step 2: Get a reference to the footer element.
const footer = document.querySelector(".fixed-bottom p");

// Step 3: Initialize an index to keep track of the current content.
let currentIndex = 0;

// Step 4: Define a function to update the footer content.
function updateFooterContent() {
  // Set the innerHTML of the footer to the content at the current index.
  footer.innerHTML = footerContent[currentIndex];

  // Increment the index or reset it to 0 if it reaches the end.
  currentIndex = (currentIndex + 1) % footerContent.length;
}

// Step 5: Use setInterval to call the updateFooterContent function every 30 seconds.
setInterval(updateFooterContent, 30000);

// Step 6: Call the updateFooterContent function initially to display the first content.
updateFooterContent();


// מאזין אירועים ללחיצה על פרסומת
function beatplus_ad() {
    gtag('event', 'ad_click', {
      'event_category': 'Ads',
      'event_label': 'BeatPlus Ad Click' // You can customize the label
    });
}



// קוד להצגת מודעות בחזית האתר באופן אוטומטי
const newContent1 = `
<h3>תהילים נגד טילים</h3>
	  <p style="text-align: justify">לַמְנַצֵּ֗חַ מִזְמ֥וֹר לְדָוִֽד׃ יַֽעַנְךָ֣ יְ֭הוָה בְּי֣וֹם צָרָ֑ה יְ֝שַׂגֶּבְךָ֗ שֵׁ֤ם ׀ אֱלֹהֵ֬י יַֽעֲקֹֽב׃ יִשְׁלַֽח־עֶזְרְךָ֥ מִקֹּ֑דֶשׁ וּ֝מִצִּיּ֗וֹן יִסְעָדֶֽךָּ׃ יִזְכֹּ֥ר כָּל־מִנְחֹתֶ֑ךָ וְעוֹלָֽתְךָ֖ יְדַשְּׁנֶ֣ה סֶֽלָה׃ יִֽתֶּן־לְךָ֥ כִלְבָבֶ֑ךָ וְֽכָל־עֲצָתְךָ֥ יְמַלֵּֽא׃ נְרַנְּנָ֤ה ׀ בִּ֘ישׁ֤וּעָתֶ֗ךָ וּבְשֵֽׁם־אֱלֹהֵ֥ינוּ נִדְגֹּ֑ל יְמַלֵּ֥א יְ֝הוָ֗ה כָּל־מִשְׁאֲלוֹתֶֽיךָ׃ עַתָּ֤ה יָדַ֗עְתִּי כִּ֤י הוֹשִׁ֥יעַ ׀ יְהוָ֗ה מְשִׁ֫יח֥וֹ יַֽ֭עֲנֵהוּ מִשְּׁמֵ֣י קָדְשׁ֑וֹ בִּ֝גְבֻר֗וֹת יֵ֣שַׁע יְמִינֽוֹ׃ אֵ֣לֶּה בָ֭רֶכֶב וְאֵ֣לֶּה בַסּוּסִ֑ים וַֽאֲנַ֓חְנוּ בְּשֵׁם־יְהוָ֖ה אֱלֹהֵ֣ינוּ נַזְכִּֽיר׃ הֵ֭מָּה כָּֽרְע֣וּ וְנָפָ֑לוּ וַֽאֲנַ֥חְנוּ קַּ֝֗מְנוּ וַנִּתְעוֹדָֽד׃ יְהוָ֥ה הוֹשִׁ֑יעָה הַ֝מֶּ֗לֶךְ יַֽעֲנֵ֥נוּ בְיוֹם־קָרְאֵֽנוּ׃</p>
	  <button class="helpButton" id="helpButton" onclick='openHelp()'>לחץ כאן לקבלת עזרה מפורטת</button>
`;

const newContent2 = `
<h3 style="
  font-size: 2em;
  animation: pulseFade 3s infinite ease-in-out;
  text-align: center;
">
גישה מלאה ל-500 ג'יגה של תוכן מוזיקלי לשנה מלאה!
</h3>

<style>
  @keyframes pulseFade {
    0%, 100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.05);
      opacity: 0.8;
    }
  }
</style>

  <p>קבלו גישה מלאה לכל התכנים באתר ועוד הרבה יותר לשנה מלאה</p>

  <p>500 ג'יגה של שירים יהודיים מכל הזמנים ומכל הסגנונות. חסידי, מזרחי, קלאסי ואלטרנטיבי. וגם תכני שמע נוספים. תוכן עדכני וגם תכנים נדירים שלא תמצאו בשום מקום אחר! </p>
  <p><b>זה ההזדמנות שלכם לקבל מקסימום תוכן במינימום מחיר!</b></p>

  <button class="helpButton" onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLScfzba0porXVkKOPQR2OhY2kevGLFoPvnAkjC-Cs6KLm5idLg/viewform?usp=pp_url&entry.1611797152=https://nhlocal.github.io/shir-bot', '_blank'); conversion_music_drive();">קבלו גישה עכשיו</button>
`;


const newContent3 = `
  <h3>הרשמו לקבלת עדכונים</h3>
  <p>הרשמו כעת לרשימת התפוצה של שיר בוט, כדי לקבל את העדכונים והחידושים האחרונים באתר<br><br>
  בהמשך צפויים בונוסים ותכונות מיוחדות לרשומים בלבד</p>
  <p>בין הבונוסים: אפשרות הורדה של מספר שירים בו זמנית, אפשרות להשפיע על התכונות והשיפורים העתידיים באתר, עדכון על פיצ'רים ושדרוגים ועוד</p>
  <button class="helpButton" onclick="window.open('https://mail.google.com/mail/u/0/?view=cm&fs=1&tf=1&source=mailto&su=%D7%A6%D7%A8%D7%A3+%D7%90%D7%95%D7%AA%D7%99+%D7%9C%D7%A7%D7%91%D7%9C%D7%AA+%D7%A2%D7%93%D7%9B%D7%95%D7%A0%D7%99%D7%9D+%D7%A2%D7%9C+%D7%94%D7%90%D7%AA%D7%A8!&to=shir-bot%2Bsubscribe%40googlegroups.com', '_blank')">לרישום מיידי</button>
`;

const newContent4 = `
<h3>בלאגן במחשב? זה הפתרון</h3><p>מיואשים מחוסר הסדר בתיקיות המוזיקה שלכם?<br><br>קבלו את התוכנה שתבצע לכם סדר בקבצי המוזיקה שלכם בתוך דקות!<br><br>התוכנה פועלת באמצעות מערכות אוטומציה מתוחכמות בשילוב מגוון של כלים</p>
<img style="border-radius: 1%; max-width: 70%; height: auto;" src="https://github.com/NHLOCAL/Singles-Sorter/blob/main/versions.data/program-screen.png?raw=true" alt="צילום מסך - מסדר הסינגלים">
<br>
<button class="helpButton" onclick="window.open('https://nhlocal.github.io/Singles-Sorter/?utm_source=shir_bot&utm_medium=site', '_blank')">להורדת התוכנה</button>
`;

const contentSection = document.getElementById("instructions-container");
const prevButton = document.getElementById("prevSection");
const nextButton = document.getElementById("nextSection");

// Define an array of new content
const newContents = [newContent2, newContent3, newContent4];
let currentContentIndex = 0;
let interval; // Declare the interval variable outside the setInterval function

// Function to update the content section
function updateContent() {
    contentSection.innerHTML = newContents[currentContentIndex];
}

// Function to handle the automatic content change
function startAutoChange() {
    interval = setInterval(() => {
        currentContentIndex = (currentContentIndex + 1) % newContents.length;
        updateContent();
    },15000); // Reduced the interval to 10 seconds for the example
}

// Event listeners for previous and next buttons
prevButton.addEventListener("click", () => {
    currentContentIndex = (currentContentIndex - 1 + newContents.length) % newContents.length;
    updateContent();
    clearInterval(interval); // Reset the interval on arrow click
    startAutoChange(); // Restart the automatic change
});

nextButton.addEventListener("click", () => {
    currentContentIndex = (currentContentIndex + 1) % newContents.length;
    updateContent();
    clearInterval(interval); // Reset the interval on arrow click
    startAutoChange(); // Restart the automatic change
});

// Initial content update
updateContent();
startAutoChange(); // Start the automatic content change


// הודעת עזרה מפורטת

let currentStep = 1;

function showStep(stepChange) {
	currentStep += stepChange;
	const modalSteps = document.querySelectorAll('.help-modal');
	
	if (currentStep < 1) {
		currentStep = 1;
	} else if (currentStep > modalSteps.length) {
		currentStep = modalSteps.length;
	}

	// Hide all steps
	modalSteps.forEach(step => {
		step.style.display = 'none';
	});

	// Show the current step
	modalSteps[currentStep - 1].style.display = 'block';
}

function openHelp() {
    // Get a reference to the Help button
    // Get a reference to the Help button
    const helpButton = document.getElementById("helpButton");

    // Get a reference to the Help overlay
    const overlay = document.querySelector(".help-overlay");

    // Show the Help overlay
    overlay.style.display = "flex"; // Display the overlay when the button is clicked
}

function closeHelp() {
	const overlay = document.querySelector('.help-overlay');
	overlay.style.display = 'none';
}


// Function to fetch random singer's name and sample songs from the CSV file and singer list from a text file
async function getRandomSingerData() {
  try {
      // Fetch singer list from text file
      const singersResponse = await fetch(baseurl + '/assets/data/singers_list.txt');
      const singersData = await singersResponse.text();
      const singersList = singersData.split('\n').map(singer => singer.trim());

      // Fetch songs from CSV file
      const songsResponse = await fetch(baseurl + '/assets/data/songs.csv');
      const songsData = await songsResponse.text();
      const lines = songsData.split('\n');

      // Select a random singer
      const singerName = singersList[Math.floor(Math.random() * singersList.length)];

      // Filter songs that belong to the selected singer
      const singerSongs = lines.filter(line => {
          const lineData = line.split(',');
          return lineData.length === 4 && lineData[3].trim() === singerName;
      }).map(song => song.split(',')[1].trim()); // Get song name from column B

      // Select 4 random sample songs
      const sampleSongs = [];
      while (sampleSongs.length < 4 && singerSongs.length > 0) {
          const randomIndex = Math.floor(Math.random() * singerSongs.length);
          sampleSongs.push(singerSongs.splice(randomIndex, 1)[0]);
      }

      return { singerName, sampleSongs };
  } catch (error) {
      console.error('Error fetching singer data:', error);
      return null;
  }
}

// Function to generate HTML content for small ads
async function generateSmallAdHTML() {
  const singerData1 = await getRandomSingerData();
  const singerData2 = await getRandomSingerData();
  if (singerData1 && singerData2) {
      // Construct HTML for small ads
      const smallAdHTML1 = `
      <div class="small-ad-top">
          <br>
          <p class="ad-text">נסה לחפש את...</p>
          <button class="helpButton" onclick="searchSongs('${singerData1.singerName}', 'singer')">${singerData1.singerName}</button>
          <p class="title-song-list">מבחר משירי ${singerData1.singerName}</p> <!-- Added class for styling -->
          <ul class="song-list">
              <li>${singerData1.sampleSongs[0]}</li>
              <li>${singerData1.sampleSongs[1]}</li>
              <li>${singerData1.sampleSongs[2]}</li>
              <li>${singerData1.sampleSongs[3]}</li>
          </ul>
      </div>
  `;
  
  const smallAdHTML2 = `
      <div class="small-ad-bottom">
          <br>
          <p class="ad-text">נסה לחפש את...</p>
          <button class="helpButton" onclick="searchSongs('${singerData2.singerName}', 'singer')">${singerData2.singerName}</button>
          <p class="title-song-list">מבחר משירי ${singerData2.singerName}</p> <!-- Added class for styling -->
          <ul class="song-list">
              <li>${singerData2.sampleSongs[0]}</li>
              <li>${singerData2.sampleSongs[1]}</li>
              <li>${singerData2.sampleSongs[2]}</li>
              <li>${singerData2.sampleSongs[3]}</li>
          </ul>
      </div>
  `;
  
      return smallAdHTML1 + smallAdHTML2;
  } else {
      // Handle error or no data retrieved
      return '';
  }
}


// Update the content of the left and right small ad containers
async function updateSmallAds() {
  const leftSmallAdContainer = document.querySelector(".small-ad-left");
  const rightSmallAdContainer = document.querySelector(".small-ad-right");

  // Replace inner HTML of left and right small ad containers with small ad content
  leftSmallAdContainer.innerHTML = await generateSmallAdHTML();
  rightSmallAdContainer.innerHTML = await generateSmallAdHTML();
}

// Initial update of small ads
updateSmallAds();

================
File: assets/js/messages.js
================
// Function to set a cookie with an expiration date
function setCookie(name, value, daysToExpire) {
  var expirationDate = new Date();
  expirationDate.setTime(expirationDate.getTime() + (daysToExpire * 24 * 60 * 60 * 1000));
  var expires = "expires=" + expirationDate.toUTCString();
  document.cookie = name + "=" + value + ";" + expires + ";path=/";
}

// Usage example: Set a cookie named "myCookie" with a value "cookieValue" that expires in 7 days
setCookie("myCookie", "cookieValue", 7);



// בועת המלצה לחפש בתוך 70 אלף שירים
/*
  document.addEventListener("DOMContentLoaded", function() {
    const textBubble = document.getElementById("textBubble");
    const searchInput = document.getElementById("searchInput");

    searchInput.addEventListener("focus", function() {
      textBubble.classList.remove("active");
    });

    searchInput.addEventListener("input", function() {
      textBubble.classList.remove("active");
    });

    setTimeout(function() {
      textBubble.classList.add("active");
    }, 700); // Adjust the delay (in milliseconds) to control when the bubble appears
  });
*/

// Get a reference to the element by its id
const nextObject = document.getElementById("nextObject");

// Add a click event listener
nextObject.addEventListener("click", function(event) {
    event.preventDefault(); // Prevent the default behavior of the link

    // Redirect to the home page
    window.location.href = baseurl + "/";
});



// Function to show a message in the center modal overlay
function showMessage(message) {
var modalOverlay = document.getElementById('modalOverlay');
var modalMessage = document.getElementById('modalMessage');
var modalOkButton = document.getElementById('modalOkButton');

modalMessage.textContent = message;
modalOverlay.style.display = 'flex'; // Display the modal overlay

// Add event listener to OK button
modalOkButton.addEventListener('click', hideMessage);

// Add event listener to document to close on click anywhere
document.addEventListener('click', function(event) {
  if (event.target === modalOverlay) {
	hideMessage();
  }
});

// Add event listener to document to close on Enter key press
document.addEventListener('keydown', function(event) {
  if (event.key === 'Enter') {
	hideMessage();
  }
});
}

// Function to hide the modal overlay
function hideMessage() {
var modalOverlay = document.getElementById('modalOverlay');
modalOverlay.style.display = 'none'; // Hide the modal overlay
}


// מאזיני אירועים עבור ניתוח גוגל
document.addEventListener('DOMContentLoaded', function() {
    var loadingMessageElement = document.getElementById('loadingMessage');
    
    if (loadingMessageElement) {
        gtag('event', 'down_song', {
            'event_category': 'Element down',
            'event_label': 'Loading Message'
        });
    }
});


// Add an event listener to the search form
document.querySelector('#searchForm').addEventListener('submit', function(event) {
    // Prevent the default form submission
    event.preventDefault();

    // Get the search query from the input field
    const searchQuery = document.querySelector('#searchInput').value;

    // Send an event to Google Analytics
    gtag('event', 'search', {
        'event_category': 'Search',
        'event_label': searchQuery
    });
});

================
File: assets/js/search.js
================
// assets/js/search.js

// משתנה גלובלי לאחסון נתוני CSV לאחר עיבוד
let allSongs = [];

// משתנה גלובלי לאחסון תוצאות החיפוש
let results = [];

// משתנה למעקב אחר מספר התוצאות המוצגות
let displayedResults = 0;

// כפתור סינון סינגלים
let showSinglesOnly = true;

// מערך promises למעקב אחר כל הורדה
let downloadPromises = [];

// משתנה גלובלי למעקב אחר מספר השירים שהורדו
let downloadedSongsCount = 0;

// משתנה גלובלי למעקב אחר מספר השירים הכולל להורדה
let totalSongsToDownload = 0;

// DOM Elements
const searchForm = document.getElementById('searchForm');
const searchInput = document.getElementById('searchInput');
const searchBySelect = document.getElementById('searchBy');
const newsFilterButton = document.getElementById('newsFilter');
const singleFilterButton = document.getElementById('singleFilter');
const loadMoreButton = document.getElementById('loadMoreButton');
const resultsTableBody = document.querySelector('#resultsTable tbody');
const loadingMessage = document.getElementById('loadingMessage');
const progressText = document.getElementById('progressText');
const progressBar = document.getElementById('progress');

// מאזינים לאירועים
searchForm.addEventListener('submit', function(event) {
  event.preventDefault();
  const query = searchInput.value.trim().toLowerCase();
  const searchBy = searchBySelect.value;
  searchSongs(query, searchBy);
});

newsFilterButton.addEventListener('click', function(event) {
  event.preventDefault();
  searchSongs('סינגלים חדשים - תשפד', 'singer');
});

singleFilterButton.addEventListener('click', function(event) {
  event.preventDefault();
  showSinglesOnly = !showSinglesOnly;
  singleFilterButton.textContent = showSinglesOnly ? 'הצג את כל השירים' : 'הצג סינגלים בלבד';
  searchSongs(searchInput.value.trim().toLowerCase(), searchBySelect.value);
});

// פונקציות חיפוש
async function searchSongs(query, searchBy) {
  // בדיקת תקינות קלט
  if (query === '' || (query.length < 2 && !/^\d+$/.test(query))) {
    return;
  }

  // הצגת הודעת טעינה
  displayLoadingMessage();

  // טעינת נתוני CSV במידה ועדיין לא נטענו
  if (allSongs.length === 0) {
    await preloadCSVData();
  }

  // ביצוע חיפוש
  performSearch(query, searchBy);

  // עדכון ה-URL ללא רענון הדף
  updateURLWithoutReload();
}

// פונקציה להצגת הודעת טעינה
function displayLoadingMessage() {
  resultsTableBody.innerHTML = '';

  const loadingRow = document.createElement('tr');
  const loadingCell = document.createElement('td');
  loadingCell.setAttribute('colspan', '4');

  const loadingContainer = document.createElement('div');
  loadingContainer.classList.add('loading-container');

  const loadingImage = document.createElement('img');
  loadingImage.src = baseurl + '/assets/images/loading.gif';
  loadingImage.classList.add('loading-image');

  const loadingTextElem = document.createElement('p');
  loadingTextElem.textContent = 'מחפש...';
  loadingTextElem.classList.add('loading-text');

  loadingContainer.appendChild(loadingImage);
  loadingContainer.appendChild(loadingTextElem);
  loadingCell.appendChild(loadingContainer);
  loadingRow.appendChild(loadingCell);
  resultsTableBody.appendChild(loadingRow);
}

// פונקציה לטעינה מוקדמת של נתוני CSV
async function preloadCSVData() {
  const currentCSVUrl = baseurl + '/assets/data/songs.csv';
  const additionalCSVUrl = baseurl + '/assets/data/new-singles.csv';


  try {
    const [currentCSVText, additionalCSVText] = await Promise.all([
      fetchCSV(currentCSVUrl),
      fetchCSV(additionalCSVUrl)
    ]);

    const currentSongs = parseCSV(currentCSVText);
    const additionalSongs = parseCSV(additionalCSVText);
    allSongs = currentSongs.concat(additionalSongs);
    console.log('CSV data preloaded');
  } catch (error) {
    console.error('Error preloading CSV data:', error);
  }
}

// פונקציה לטעינת נתוני CSV
async function fetchCSV(url) {
  const response = await fetch(url);
  return await response.text();
}

// פונקציה לפרסור CSV לטבלה
function parseCSV(csvText) {
  const lines = csvText.split('\n');
  const songs = [];
  for (let i = 1; i < lines.length; i++) {
    const line = lines[i].trim();
    if (line) {
      const columns = line.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
      if (columns.length >= 4) {
        const song = {
          serial: columns[0].trim(),
          name: columns[1].trim(),
          album: columns[2].trim(),
          singer: columns[3].trim()
        };
        songs.push(song);
      } else {
        console.warn('Skipped a line with insufficient columns:', line);
      }
    }
  }
  return songs;
}

// פונקציית חיפוש מטושטש
function filterSongs(songs, query, searchBy) {
  if (query === '' || (query.length < 2 && !/^\d+$/.test(query))) {
    return [];
  }

  const calculateDiceCoefficient = (tokens1, tokens2) => {
    const intersection = new Set(tokens1.filter(token => tokens2.includes(token)));
    return (2 * intersection.size) / (tokens1.length + tokens2.length);
  };

  const calculateNormalizedLevenshteinDistance = (str1, str2) => {
    const len1 = str1.length;
    const len2 = str2.length;

    if (len1 === 0) return len2;
    if (len2 === 0) return len1;

    const matrix = Array.from({ length: len1 + 1 }, (_, i) => [i]);
    matrix[0] = Array.from({ length: len2 + 1 }, (_, i) => i);

    for (let i = 1; i <= len1; i++) {
      for (let j = 1; j <= len2; j++) {
        const cost = str1[i - 1] === str2[j - 1] ? 0 : 1;
        matrix[i][j] = Math.min(
          matrix[i - 1][j] + 1,
          matrix[i][j - 1] + 1,
          matrix[i - 1][j - 1] + cost
        );
      }
    }

    return matrix[len1][len2] / Math.max(len1, len2);
  };

  const queryTokens = query.split(/\s+/);
  const threshold = 0.6;

  const exactMatches = songs.filter(song => {
    const songValues = Object.values(song).map(value => value.toLowerCase());

    if (searchBy === 'all') {
      return songValues.some(value => value.includes(query));
    } else {
      const value = song[searchBy];
      if (value) {
        return value.toLowerCase().includes(query);
      }
    }
    return false;
  });

  const fuzzyMatches = songs.filter(song => {
    const songValues = Object.values(song).map(value => value.toLowerCase());

    if (searchBy === 'all') {
      return songValues.some(value => {
        const valueTokens = value.split(/\s+/);
        const similarity = calculateDiceCoefficient(queryTokens, valueTokens);
        const levenshteinDistance = calculateNormalizedLevenshteinDistance(query, value);
        return similarity >= threshold || (1 - levenshteinDistance) >= threshold;
      });
    } else {
      const value = song[searchBy];
      if (value) {
        const valueTokens = value.split(/\s+/);
        const similarity = calculateDiceCoefficient(queryTokens, valueTokens);
        const levenshteinDistance = calculateNormalizedLevenshteinDistance(query, value);
        return similarity >= threshold || (1 - levenshteinDistance) >= threshold;
      }
    }
    return false;
  });

  const combinedResults = [...new Set([...exactMatches, ...fuzzyMatches])].sort((a, b) => {
    return a.serial - b.serial;
  });

  return combinedResults;
}

// פונקציה לביצוע החיפוש והצגת התוצאות
function performSearch(query, searchBy) {
  let filteredSongs;

  if (showSinglesOnly) {
    filteredSongs = allSongs.filter(song => {
      const albumContainsSingles = song.album.toLowerCase().includes('סינגלים');
      const singerContainsSingles = song.singer.toLowerCase().includes('סינגלים');
      return albumContainsSingles || singerContainsSingles;
    });
  } else {
    filteredSongs = allSongs;
  }

  results = filterSongs(filteredSongs, query, searchBy);
  displayedResults = 250;
  displayResults(results.slice(0, displayedResults));

  loadMoreButton.style.display = results.length > displayedResults ? 'block' : 'none';
}

// פונקציה להצגת התוצאות בטבלה
function displayResults(resultsToDisplay) {
  resultsTableBody.innerHTML = '';

  if (resultsToDisplay.length === 0) {
    const instructionRow = document.createElement('tr');
    const instructionCell = document.createElement('td');
    instructionCell.setAttribute('colspan', '4');
    instructionCell.textContent = 'לא נמצאו תוצאות. אנא נסה חיפוש אחר';
    instructionRow.appendChild(instructionCell);
    resultsTableBody.appendChild(instructionRow);
  } else {
    const theadElement = document.querySelector(".custom-table thead");
    if (theadElement) {
      theadElement.style.display = "table-header-group";
    }

    resultsToDisplay.forEach(song => {
      const row = document.createElement('tr');

      // יצירת תא עבור מספר סידורי
      const serialCell = document.createElement('td');
      const serialLink = document.createElement('a');
      serialLink.textContent = song.serial;
      serialLink.addEventListener('click', function(event) {
        event.stopPropagation();
        const shareLink = window.location.origin + window.location.pathname;
        copyToClipboard(shareLink + `?search=${encodeURIComponent(song.serial)}`);
        showCopiedMessage();
      });
      serialCell.appendChild(serialLink);
      row.appendChild(serialCell);

      // יצירת תא עבור שם השיר
      const nameCell = document.createElement('td');
      nameCell.textContent = song.name;
      row.appendChild(nameCell);

      // יצירת תא עבור שם האלבום
      const albumCell = document.createElement('td');
      const albumButton = document.createElement('button');
      albumButton.textContent = song.album;
      albumButton.classList.add('album-button');
      albumButton.addEventListener('click', function(event) {
        event.preventDefault();
        searchInput.value = song.album.toLowerCase();
        searchSongs(song.album.toLowerCase(), 'album');
      });
      albumCell.appendChild(albumButton);
      row.appendChild(albumCell);

      // יצירת תא עבור שם הזמר
      const singerCell = document.createElement('td');
      const singerButton = document.createElement('button');
      singerButton.textContent = song.singer;
      singerButton.classList.add('singer-button');
      singerButton.addEventListener('click', function(event) {
        event.preventDefault();
        searchInput.value = song.singer.toLowerCase();
        searchSongs(song.singer.toLowerCase(), 'singer');
      });
      singerCell.appendChild(singerButton);
      row.appendChild(singerCell);

      // הוספת אירוע לחיצה על השורה
      row.addEventListener('click', function(event) {
        if (event.target.tagName !== 'BUTTON') {
          event.preventDefault();

          if (
            !song.album.toLowerCase().includes('סינגלים') &&
            !song.singer.toLowerCase().includes('סינגלים')
          ) {
            showMessage('באתר זה נשלחים סינגלים בלבד, נא נסה שיר אחר!');
          } else {
            downloadSong(song.serial);
          }
        }
      });

      resultsTableBody.appendChild(row);
    });
    
    // הוספת המחלקה לאחר הצגת השירים
    resultsTableBody.classList.add('songs-list');
  }
}

// פונקציה לטיפול ב"טען עוד"
loadMoreButton.addEventListener('click', loadMoreResults);

function loadMoreResults() {
  displayedResults += 250;
  displayResults(results.slice(0, displayedResults));
  loadMoreButton.style.display = results.length > displayedResults ? 'block' : 'none';
}

// פונקציה להעתקת טקסט ללוח
function copyToClipboard(text) {
  const textArea = document.createElement('textarea');
  textArea.value = text;
  document.body.appendChild(textArea);
  textArea.select();
  document.execCommand('copy');
  document.body.removeChild(textArea);
}

// פונקציה להצגת הודעת העתקה
function showCopiedMessage() {
  const message = document.createElement('div');
  message.textContent = 'הקישור הועתק ללוח';
  message.classList.add('copied-message');

  document.body.appendChild(message);

  setTimeout(() => {
    document.body.removeChild(message);
  }, 3000);
}

// פונקציה להצגת הודעה
function showMessage(messageText) {
  const message = document.createElement('div');
  message.textContent = messageText;
  message.classList.add('message');

  document.body.appendChild(message);

  setTimeout(() => {
    document.body.removeChild(message);
  }, 3000);
}

// פונקציה להורדת שיר
async function downloadSong(songNumber) {
  // איפוס משתנים גלובליים לפני תחילת ההורדה
  if (downloadPromises.length === 0) {
    downloadedSongsCount = 0;
    totalSongsToDownload = 0;
  }

  totalSongsToDownload++; // הגדלת מספר השירים הכולל להורדה

  // יצירת promise עבור ההורדה הנוכחית
  const downloadPromise = new Promise(async (resolve, reject) => {
    try {
      // Reset progress bar and messages
      progressText.innerText = `${downloadedSongsCount + 1}/${totalSongsToDownload} מעבד...`;
      progressBar.style.width = '15%';
      loadingMessage.classList.add('show'); // Display the loading message

      const scriptUrl = 'https://script.google.com/macros/s/AKfycbyzJ9j93gbyOx1N42oJzDgFRDxPg4wsK6zCxEVNDkJb8zPzhgf5OyO6Prj4dWQWdhS-ow/exec'; // Replace with your Google Apps Script web app URL
      const downloadUrl = `${scriptUrl}?songNumber=${encodeURIComponent(songNumber)}`;

      const response = await fetch(downloadUrl);
      const data = await response.json();

      progressText.innerText = `${downloadedSongsCount + 1}/${totalSongsToDownload} מעבד...`;
      progressBar.style.width = '40%';

      if (data.success) {
        // Display the stages
        progressText.innerText = `${downloadedSongsCount + 1}/${totalSongsToDownload} מוריד...`;
        progressBar.style.width = '60%';

        setTimeout(async () => {
          progressText.innerText = `${downloadedSongsCount + 1}/${totalSongsToDownload} מוריד...`;
          progressBar.style.width = '80%';

          // Background download continues here
          const link = document.createElement('a');
          link.href = data.downloadLink;
          link.download = data.originalFileName;
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);

          // Simulate final stage
          await new Promise(resolve => setTimeout(resolve, 2000)); // Delay for 2 seconds
          progressText.innerText = `${downloadedSongsCount + 1}/${totalSongsToDownload} הושלם!`;
          progressBar.style.width = '100%';

          downloadedSongsCount++; // הגדלת מספר השירים שהורדו

          resolve(); // Resolve the promise after successful download
        }, 1000);
      } else {
        alert(data.message);
        reject(new Error(data.message)); // Reject the promise on error
      }
    } catch (error) {
      console.error("Error:", error);
      showMessage("אירעה שגיאה. בבקשה נסה שוב מאוחר יותר");
      reject(error); // Reject the promise on error
    }
  });

  // הוספת promise למערך
  downloadPromises.push(downloadPromise);

  // עדכון הודעת ההורדה וסרגל ההתקדמות
  updateProgress();

  // טיפול ב-promise לאחר סיום ההורדה (הצלחה או כישלון)
  downloadPromise
    .finally(() => {
      // הסרת promise מהמערך
      downloadPromises = downloadPromises.filter(p => p !== downloadPromise);

      // עדכון הודעת ההורדה וסרגל ההתקדמות
      updateProgress();

      // בדיקה האם כל ההורדות הסתיימו
      if (downloadPromises.length === 0) {
        progressText.innerText = `הורדת ${downloadedSongsCount}/${totalSongsToDownload} הושלמה!`;
        progressBar.style.width = `100%`;

        // איפוס המשתנים הגלובליים לאחר סיום כל ההורדות
        setTimeout(() => {
          downloadedSongsCount = 0;
          totalSongsToDownload = 0;
          loadingMessage.classList.remove('show'); // Hide the loading message on success
        }, 2000);
      }
    });
}

// פונקציה לעדכון הודעת ההורדה וסרגל ההתקדמות
function updateProgress() {
  const downloadingCount = downloadPromises.length;

  if (downloadingCount > 0) {
    progressText.innerText = `מוריד ${downloadingCount} שירים...`;
  }

  // חישוב אחוז ההתקדמות
  const progressPercentage = totalSongsToDownload > 0 ? Math.round((downloadedSongsCount / totalSongsToDownload) * 100) : 0;
  progressBar.style.width = `${progressPercentage}%`;
}

// פונקציה לעדכון ה-URL ללא רענון הדף
function updateURLWithoutReload() {
  const newURL = window.location.origin + window.location.pathname;
  window.history.replaceState({}, document.title, newURL);
}

// פונקציה להשלמת חיפוש אוטומטי מה-URL
window.addEventListener('DOMContentLoaded', () => {
  const urlParams = new URLSearchParams(window.location.search);
  const searchValue = urlParams.get('search');

  if (searchValue) {
    searchInput.value = searchValue.toLowerCase();
    searchSongs(searchValue.toLowerCase(), 'all');

    // הסרת הפרמטרים מה-URL ללא רענון הדף
    updateURLWithoutReload();
  } else {
    preloadCSVData();
  }
});

// פונקציה להגשת טופס החיפוש
function submitForm() {
  const searchTerm = searchInput.value.trim().toLowerCase();
  // בצע את החיפוש מבלי לשנות את ה-URL
  searchSongs(searchTerm, searchBySelect.value);
}

// Event listener לשליחת הטופס בעת לחיצה על Enter
searchInput.addEventListener("keypress", function(event) {
  if (event.key === 'Enter') {
    event.preventDefault();
    submitForm();
  }
});

================
File: create_artists_markdown.py
================
import csv
import os

# פונקציה הבודקת אם שם האלבום או שם הזמר מכיל את המילה 'סינגלים'
def contains_hebrew_singles(text):
    return "סינגלים" in text

# פונקציה הבודקת אם שם הזמר הוא קצר יחסית (פחות מ-4 מילים)
def is_short_singer(name):
    return len(name.split()) < 4

# רשימת זמרים שמדלגים עליהם
skip_singers = [
    "הראל סקעת", "יהורם גאון", "עדן חסון",
    "הפרויקט של רביבו", "בית ספר למוסיקה", "אריק איינשטיין", "משה פרץ", "שלמה ארצי", "הראל סקעת", "קובי פרץ", "עידן יניב", "הראל מויאל", "מוקי", "שלומי שבת", "אמיר דדון", "ארז לב ארי", "אברהם טל", 
]

# פונקציה ליצירת קבצי Markdown עבור כל אמן
def create_artist_markdown(csv_file_path, artists_folder):
    if not os.path.exists(artists_folder):
        os.makedirs(artists_folder)  # יצירת התיקייה במידה והיא לא קיימת

    singers = {}
    with open(csv_file_path, "r", encoding="utf-8") as csv_file:
        csv_reader = csv.DictReader(csv_file)
        
        # עבור כל שורה ב-CSV, נבדוק מי האמן ונאסוף את השירים שלו
        for row in csv_reader:
            singer = row["Singer"]
            album = row["Album Name"]
            
            # נוודא שהאמן או האלבום מכיל את המילה 'סינגלים'
            if contains_hebrew_singles(singer) or contains_hebrew_singles(album):
                song = {
                    "number": row["Serial Number"],
                    "name": row["Song Name"],
                    "album": album,
                    "artist": singer
                }
                # אם האמן הוא קצר ולא ברשימת האמנים שיש לדלג עליהם, נאגור את השירים שלו
                if is_short_singer(singer) and singer not in skip_singers:
                    if singer not in singers:
                        singers[singer] = []
                    singers[singer].append(song)

    # ניצור קובץ Markdown עבור כל אמן
    for singer, songs in singers.items():
        # יצירת שם קובץ ידידותי למערכת הקבצים
        safe_singer_name = singer.replace(" ", "-").replace("/", "-").replace("\\", "-")
        filename = os.path.join(artists_folder, f"{safe_singer_name}.md")
        
        with open(filename, "w", encoding="utf-8") as f:
            f.write("---\n")
            f.write(f"layout: artist\n")
            f.write(f"name: {singer}\n")
            f.write(f"title: \"{singer}\"\n")
            f.write(f"description: \"דף האמן {singer}\"\n")
            f.write(f"keywords: \"שירים, מוזיקה, {singer}\"\n")
            f.write(f"permalink: /artists/{safe_singer_name}/\n")
            f.write("redirect_from:\n")
            f.write(f"  - /artists/list/{singer}\n")
            f.write("songs:\n")
            for song in songs:
                f.write(f"  - number: \"{song['number']}\"\n")
                f.write(f"    name: \"{song['name']}\"\n")
                f.write(f"    album: \"{song['album']}\"\n")
                f.write(f"    artist: \"{song['artist']}\"\n")
            f.write("---\n")
            # ניתן להוסיף תוכן נוסף כאן אם יש צורך

# הפעלת הפונקציה עם הנתיב לקובץ ה-CSV ותיקיית היעד של קבצי האמנים
create_artist_markdown("songs.csv", "_artists")

================
File: Gemfile
================
source "https://rubygems.org"
# Hello! This is where you manage which Jekyll version is used to run.
# When you want to use a different version, change it below, save the
# file and run `bundle install`. Run Jekyll with `bundle exec`, like so:
#
#     bundle exec jekyll serve
#
# This will help ensure the proper Jekyll version is running.
# Happy Jekylling!
gem "jekyll", "~> 4.3.4"
# This is the default theme for new Jekyll sites. You may change this to anything you like.
gem "minima", "~> 2.5"
# If you want to use GitHub Pages, remove the "gem "jekyll"" above and
# uncomment the line below. To upgrade, run `bundle update github-pages`.
# gem "github-pages", group: :jekyll_plugins
# If you have any plugins, put them here!
group :jekyll_plugins do
  gem "jekyll-feed", "~> 0.12"
end

# Windows and JRuby does not include zoneinfo files, so bundle the tzinfo-data gem
# and associated library.
platforms :mingw, :x64_mingw, :mswin, :jruby do
  gem "tzinfo", ">= 1", "< 3"
  gem "tzinfo-data"
end

# Performance-booster for watching directories on Windows
gem "wdm", "~> 0.1", :platforms => [:mingw, :x64_mingw, :mswin]

# Lock `http_parser.rb` gem to `v0.6.x` on JRuby builds since newer versions of the gem
# do not have a Java counterpart.
gem "http_parser.rb", "~> 0.6.0", :platforms => [:jruby]

gem "logger"
gem "csv"
gem "ostruct"
gem "base64"
gem "jekyll-redirect-from"


gem 'jekyll-seo-tag'
gem 'jekyll-sitemap'

================
File: index.html
================
---
layout: default
title: "שיר-בוט"
description: "חיפוש חופשי והורדה בתוך מאגר של עשרות אלפי שירים, מוזיקה בדרייב, מאגר שירים חרדי: הורדת שירים חינם באופן פשוט וקליל. שיר-בוט: הפלטפורמה להורדת שירים חרדיים ברמה הגבוהה ביותר."
keywords: "הורדת שירים, מוזיקה בדרייב, שירים בדרייב, שירים חרדיים, מוזיקה חסידית, שיר-בוט, מאגר שירים, חיפוש שירים, זמרים חרדיים, שירים חסידיים, הורדה מהירה, מספר סידורי, אלבום, זמר, חרדים, יהדות, טקסטים, תורה, מוסיקליות, מועדים, אמנות, song downloads, Chassidic songs, Jewish music, Shir-Bot, song database, song search, Chassidic singers, Chassidic music, fast download, serial number, album, singer, Chassidic, Judaism, lyrics, Torah, musicality, holidays, art"
canonical_url: "https://nhlocal.github.io/shir-bot"
---
  
<div dir="rtl" style="background-color:#FFFEDB;">
  
  <div id="loadingMessage" class="loading-message">
    <div class="progress-bar-container">
      <img src="{{ site.baseurl }}/assets/images/loading.gif" alt="טעינה" />
      <span id="progressText"></span>
      <div class="progress-bar">
        <div id="progress" class="progress"></div>
      </div>
    </div>
  </div>
  
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal-content">
      <span id="modalMessage"></span><br>
      <button id="modalOkButton" style="font-family: tahoma">אישור</button>
    </div>
  </div>
  
  <div id="resultsTable" class="custom-table">
    <table>
      <thead style="display: none">
        <tr>
          <th>מספר סידורי</th>
          <th>שם השיר</th>
          <th>שם האלבום</th>
          <th>שם הזמר</th>		  
        </tr>
      </thead>
      
      <tbody>
        <tr>
          <td style="border-bottom: 0;" colspan="4">
            <center id="instructions">
              <div class="small-ad-container">
                <div class="small-ad-left"></div> <!-- Small ads on the left -->
                <div id="instructions-container" class="instructions-container">
                  <!-- Content of the large rotating ad goes here -->
                </div>
                <div class="small-ad-right"></div> <!-- Small ads on the right -->
              </div>
              <button id="prevSection">&lt;</button>
              <button id="nextSection">&gt;</button>
            </center>
          </td>
        </tr>
      </tbody>
    </table>
    <button id="loadMoreButton">טען עוד</button>
  </div>
  
</div>

<script src="{{ site.baseurl }}/assets/js/search.js"></script>

================
File: old.html
================
---
layout: null
permalink: /old.html
---


<!DOCTYPE html>
<html lang="he">
<head>
</head>

<script>
    window.onload = function () {
        window.location.href = "https://nhlocal.github.io/shir-bot/";
    }
</script>

</html>

================
File: register.html
================
---
layout: null
permalink: /register.html
---


<!DOCTYPE html>
<html lang="he">
<head>
</head>

<script>
    window.onload = function () {
        window.location.href = "https://nhlocal.github.io/shir-bot/";
    }
</script>

</html>

================
File: run.bat
================
@ echo off

start http://localhost:4000/shir-bot/ && bundle exec jekyll serve

================
File: site/pay.md
================
---
layout: page
title: "דף תשלום"
permalink: /site/pay/
---

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" title="PayPal היא הדרך הקלה והבטוחה יותר לשלם באינטרנט!">
  <input type="hidden" name="cmd" value="_s-xclick" />
  <input type="hidden" name="hosted_button_id" value="N6KTYQ528G7ZG" />
  <input type="hidden" name="currency_code" value="ILS" />
  <div class="button-container">
    <button class="helpButton" style="padding: 20px; font-size: 30px; border-radius: 20px" type="submit">
      שלם עכשיו
    </button>
  </div>
  <p class="message">
    תוכל לשלם באופן מיידי בקישור זה, ואתה תצורף למאגר באופן אוטומטי תוך מספר דקות.
    <br>
    אם אתה נתקל בקשיים או שאתה מעוניין לשלם בהעברה בנקאית <a class="email-link" href="https://mail.google.com/mail/u/0/?view=cm&fs=1&tf=1&source=mailto&su=%D7%90%D7%A0%D7%99+%D7%A0%D7%AA%D7%A7%D7%9C+%D7%91%D7%A7%D7%A9%D7%99%D7%99%D7%9D+%D7%91%D7%A2%D7%AA+%D7%91%D7%99%D7%A6%D7%95%D7%A2+%D7%94%D7%AA%D7%A9%D7%9C%D7%95%D7%9D+%D7%A2%D7%91%D7%95%D7%A8+%D7%94%D7%9E%D7%90%D7%92%D7%A8+%D7%94%D7%9E%D7%95%D7%96%D7%99%D7%A7%D7%9C%D7%99+%D7%91%D7%93%D7%A8%D7%99%D7%99%D7%91&to=mesader.singelim%40gmail.com" target="_blank">שלח לנו מייל</a>
  </p>
</form>

================
File: site/thank.md
================
---
layout: page
title: "דף תודה"
permalink: /site/thank/
---

<h3>מזל טוב!</h3>
<div class="message-container">
  <p class="message">
    תודה לכם על שקניתם את המאגר,
    אתם תצורפו למאגר תוך מספר דקות!<br><br>
    הודעה עם כלל הפרטים תשלח אליכם למייל
  </p>
  <br>
  <h4>נסו גם את המוצרים החינמיים שלנו:</h4><br><br><br><br>
</div>

<div class="get-container">
  <div class="get-square">
    <div class="get-title">מסדר הסינגלים</div>
    <div class="get-description">תוכנה שממיינת סינגלים באמצעות אוטומציה מתקדמת</div>
    <a href="https://nhlocal.github.io/Singles-Sorter?utm_source=thank-page&utm_medium=site" target="_blank">
      <img src="https://nhlocal.github.io/Singles-Sorter/src/core/assets/icon.png" alt="Product 1">
    </a>
  </div>
  <div class="get-square">
    <div class="get-title">שיר-בוט</div>
    <div class="get-description">הורדת סינגלים חינם מתוך המאגר המלא שלנו</div>
    <a href="https://nhlocal.github.io/shir-bot?utm_source=thank-page&utm_medium=site" target="_blank">
      <img src="{{ site.baseurl }}/assets/images/logo.png" alt="Product 2">
    </a>
  </div>
  <div class="get-square">
    <div class="get-title">רשימת סקריפטים שימושיים</div>
    <div class="get-description">להקלה על השימוש במחשב</div>
    <a href="https://nhlocal.github.io?utm_source=thank-page&utm_medium=site" target="_blank">
      <img src="https://nhlocal.github.io/NH.LOCAL.jpg" alt="Product 3">
    </a>
  </div>
</div>



================================================================
End of Codebase
================================================================
